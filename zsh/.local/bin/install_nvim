#!/bin/zsh

# setpx
set -e

rm -rf ~/.local/bin/nvim
sudo rm -f /usr/local/bin/nvim
mkdir -p ~/.local/bin

if [[ $(uname -s) == 'Linux' ]]; then
	wget https://github.com/neovim/neovim/releases/download/nightly/nvim-linux64.tar.gz
	tar -zxf nvim-linux64.tar.gz
	rm nvim-linux64.tar.gz
	mv nvim-linux64 ~/.local/bin/nvim
else
	wget https://github.com/neovim/neovim/releases/download/nightly/nvim-macos.tar.gz
	# wget https://github.com/neovim/neovim/releases/download/v0.7.2/nvim-macos.tar.gz
	tar -zxf nvim-macos.tar.gz
	rm nvim-macos.tar.gz
	mv nvim-macos ~/.local/bin/nvim
fi

sudo ln -s ~/.local/bin/nvim/bin/nvim /usr/local/bin/nvim
nvim --version

