#!/usr/bin/env bash

selected="$(printf '%s\n' "$(
	fd --type d \
		--hidden \
		--exclude "bin" \
		--exclude "go" \
		--exclude "include" \
		--exclude "lib" \
		--exclude "n" \
		--exclude "share" \
		--follow \
		. \
		"$HOME/code" |
		fzf
)")"
[[ ${#selected} != 0 ]] || exit 0

selected_name=$(basename "$selected" | tr . _)

tmux new-window -c "$selected" -n "$selected_name"
